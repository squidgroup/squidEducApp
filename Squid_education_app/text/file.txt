fullmodelTxt <- list(
  
  "paragIntro"         = "This table allow you to select the phenotypic equation model 
                          that you want to use to generate your data. Start by clicking on each of the parameters 
                          of the model you want to include to generate the phenotypes (column &rdquo;option&rdquo;). 
                          You can chose whether you simulate one or more traits: if you select the multivariate 
                          option you will be allowed to select the number of traits you want to simulate; 
                          Otherwise the default option is &rdquo;univariate&rdquo;. You will also have to enter 
                          the information relative to the covariance components between the traits. 
                          Once you have selected the model of your choice, click on &rdquo;enter inputs&rdquo;.",
  
  "lorem"              = "Lorem ipsum dolor sit amet, mei legimus disputando ei. Eu odio interpretaris sea, 
                          nemore denique voluptatibus has et. Ei vis ferri putent, ne iusto choro placerat mea, 
                          verear oportere elaboraret ius at. Eum mutat aperiam instructior id, 
                          ea mei rebum animal reprimique.
                          Nisl dolor temporibus no vis. Cum no soleat volutpat democritum. 
                          Te eligendi ullamcorper concludaturque vix, id usu consequuntur necessitatibus, 
                          est ea laudem verterem. Id prima harum tation pro. Mel libris doctus posidonium cu, 
                          sed modo meliore volutpat ea, ei singulis conceptam est. His an alterum prodesset definitionem, 
                          per id malis homero, impedit elaboraret cotidieque eu sea.",
  
  # Step by step page
  
  "fullModelSbyS_intro_1"     = "The full model of SQuID allows the user to generate data sets of 
                                  individuals repeatedly expressing phenotypes, for one or two traits, in uniform time. 
                                  The user has thus the flexibility to add different variance components that will form the 
                                  phenotype of the individual at each time step, and to set up a relative importance to each component. 
                                  SQuID also allows the user to collect a sample of the simulated phenotypes (i.e., the operational data set), 
                                  according to specific sampling design. Finally, the user has the opportunity 
                                  to download the operational data set for further analyses.",
  "fullModelSbyS_intro_2"     = "In this page, we will introduce to you step by step how to use our full module. 
                                In case you are already familiar with the full model we invite to switch to the 
                                full model express page, which is more straightforward.  ",
  
  
  # Step by step description
  
  "ModelDesciption_intro_1"     = "In this section, we will describe the model used to simulate individual 
                                  phenotype values and the model used to create the sampling design.",
  
  
  "SimModel_intro"      = "As a first step, we generate phenotype values of individuals that belong to a study population (i.e., replicate world). 
                          Phenotypic values of each trait are calculated using 
                          the phenotypic equation described below.",
  
  "modelEquation_1"     = paste("The equation represents the model that generated phenotypic values ($",EQ$phen.1,"$ or $",EQ$phen.2,"$) of 
                           two traits for each individual $",NOT$ind,"$ and at each instance of time $",NOT$time,"$, in each group $",NOT$group,"$.", sep=""),
  "modelEquation_2"     = paste("It should be noted that subscripts are organised to represent the different hierarchical 
                           levels involved in the generation of the value of the trait: subscript $",NOT$time,"$ stands for the 
                           instance at which the traits is measured for the individual $",NOT$ind,"$, within group $",NOT$group,"$. 
                           Finally subscript $",NOT$trait.1,"$ or $",NOT$trait.2,"$ refers to the two traits generated.", sep=""),
  "modelEquation_3"     = paste("At first sight we can see that the phenotypic value of the trait $",NOT$trait.1,"$ for individual $",NOT$ind,"$ 
                          at instance $",NOT$time,"$ in group $",NOT$group,"$ is the sum of a series of components. 
                          Let's first decompose the equation into all of its components, and we then will see how each of the 
                          components is generated:", sep=""),
  "modelEquation_4"     = paste("The first component on the right hand side of the equation represents the population average 
                          $",EQ$mean0.1,"$ for the trait $",NOT$trait.1,"$, and the deviation of each individual's trait mean 
                          from that population average ($",EQ$dev0.1,"$, generally called individual level or individual intercept). 
                          All the other elements occurring on the right hand side of the equation represent also deviations 
                          from the average of the trait in that population.", sep=""),
  "modelEquation_5"     = paste("Let's now go to the end of the equation, where we find the residual $",EQ$error.1,"$. 
													The residual term represents unaccounted effects on the phenotype which could be biological effects and/or measurement errors. 
													At the left of the 
                          residual term we have $",EQ$group.1,"$ that represents the deviation from the population average of 
                          trait $",NOT$trait.1,"$ for a group $",NOT$group,"$ (this means that all the individuals of a given group $",NOT$group,"$ share 
                          the same value of $",NOT$groupV,"$ ($",NOT$groupV,"$ follows a normal distribution with a mean = 0 and variance = $Var(",NOT$groupV,")$).
                          The concept of grouping is wide ranging from genetic similarities (e.g. families) to spatial aggregations 
                          (e.g. territories) and diet compositions and could be specific to the each study.",sep=""),
  "modelEquation_6"     = paste("The last three components $(",EQ$mean1.1,"+",EQ$dev1.1,").",EQ$env1,"+(",EQ$mean2.1,"+",EQ$dev2.1,").",EQ$env2," 
                          + (",EQ$mean12.1,"+",EQ$dev12.1,")",EQ$env12,"$ represent two different environmental effects 
                          and their interaction that you could use to generate different sources of variation 
                          for your simulations.",sep=""),
  "modelEquation_7"     = paste("These terms represent phenotypically plastic changes in the value of the trait as a function 
                          of two environmental factors $",NOT$env,"_1$ and $",NOT$env,"_2$. In other words, that part of the equation is 
                          the reaction norm of trait $",NOT$trait.1,"$ as a function of either environment $",NOT$env,"_1$ or $",NOT$env,"_2$ 
                          (or both $",NOT$env,"_1$ and $",NOT$env,"_2$). Below we will explain the equation for a given environmental 
                          factor $",NOT$env,"$. Environment $",NOT$env,"$ can be measured and thus you can decide whether or not to include $",NOT$env,"$ 
                          in subsequent mixed-effects models (whether you include $",NOT$env,"$ in the model or not allows you to 
                          test how unknown/unmeasured environments affect estimates of other parameters in the model). 
                          The reaction norm is itself composed of a population-level component (e.g. $",EQ$mean1.1,"$) and of 
                          an individual deviation from the population norm ($",EQ$dev1.1,"$). 
                          When both terms are combined trait values are generated so that individuals differ 
                          in their slopes for trait $",NOT$trait.1,"$ as a function of environment $",NOT$env,"$. 
                          Lastly there is a possibility to implement an interaction between $",NOT$env,"_1$ and $",NOT$env,"_2$ 
                          [$(",EQ$mean12.1,"+",EQ$dev12.1,")",EQ$env12,"$].",sep=""),
  
  "indSpecResponses"    = paste("Below we show the way we generate the different values of each individual-level random effect for 
                          both traits $",NOT$trait.1,"$ and $",NOT$trait.2,"$. The vector of individual deviation of the intercept and slopes for 
                          the two traits follows a multivariate normal distribution (MNV) with a zero-mean and covariance/variance 
                          matrix structure $\\Omega_{",NOT$devI,NOT$devS,"}$. On the right hand side is shown (co)variance matrix 
                          $\\Omega_{",NOT$devI,NOT$devS,"}$. Values of variance stand along the diagonal of the matrix (i.e., respectively, 
                          the among-individual variance in intercepts for $",NOT$trait.1,"$ $(Var(",NOT$devI,"_",NOT$trait.1,"))$, the among-individual variance in slopes 
                          for $",NOT$trait.1,"$ $(Var(",NOT$devS,"_",NOT$trait.1,"))$, the among-individual variance in intercepts for $",NOT$trait.2,"$ $(Var(",NOT$devI,"_",NOT$trait.2,"))$ 
                          and the among-individual variance in slopes for $",NOT$trait.2,"$ $(Var(",NOT$devS,"_",NOT$trait.2,"))$). 
                          Covariance values between intercepts (e.g. $Cov(", EQ2$dev0.1, ",", EQ2$dev0.2,")$), 
                          slopes (e.g. $Cov(", EQ2$dev1.1, ",", EQ2$dev1.2,")$), 
                          and intercepts and slopes (e.g. $Cov(", EQ2$dev0.1, ",", EQ2$dev1.1,")$) lie below the diagonal. 
                          When building up phenotypic design the program lets you specify all of these (co)variance values. 
                          Note that in SQuID inputs the correlation/variance matrix is asked instead of the (co)variance matrix. 
                          This is more convenient for users while correlations range between -1 and 1.",sep=""),
  "environment_1"       = "SQuID allows you to generate different structures by which the environment changes over time: 
                          <ol><li>stochastic</li> <li>temporally auto-correlated</li> <li>linear</li> <li>cyclic</li></ol>",
  "environment_2"       = paste("For the first structure (<b>stochastic</b>), environmental values $",NOT$env,"_{",NOT$random,NOT$time,"}$ are 
                          generated using a Normal distribution with mean 0 and variance $Var(",NOT$env,"_",NOT$random,")$. 
                          $$",NOT$env,"_{",NOT$random,NOT$time,"}\\sim N(0,Var(",NOT$env,"_",NOT$random,"))$$
                          This means that environmental values will be totally 
                          stochastic and uncorrelated from one time point to the next. This simple situation is not the most realistic 
                          (i.e., it is hard to think of an environmental factor that is completely stochastically distributed in time). 
                          The other options are more complex but also more realistic.",sep=""),
  "environment_3"       = paste("For the <b>temporally auto-correlated</b> $",NOT$env,"_{",NOT$autocorrelated,NOT$time,"}$ 
                          we assume that two values of the environment close in time 
                          are more similar than two values further apart from each other (i.e., positive autocorrelation). 
                          Environmental values $",NOT$env,"_{",NOT$autocorrelated,NOT$time,"}$ are generated 
                          as the product of a stochastic value by a decay function.
                          $$",NOT$env,"_{",NOT$autocorrelated,NOT$time,"}\\sim N(0,Var(",NOT$env,"_",NOT$random,"))\\times e^{-\\alpha\\Delta ",NOT$time,"}$$                          
                          where $\\Delta ",NOT$time,"$ is the time interval between two instances of the study period, and $\\alpha$
                          is the decay rate, a measure of how fast the correlation decays with time.
                          $$\\alpha=ln(autocor)$$
                          where $autocor$ is the desired correlation between two successive values.",sep=""),
  "environment_4"       = paste("Once the <b>linear</b> trend is set up SQuID generates 
                          a series of values following a classical linear equation.
                          $$",NOT$env,"_{",NOT$linear,NOT$time,"}=a+b.",NOT$time,"$$
                          where $a$ and $b$ are respectively, the intercept and the slope of the regression between 
                          $",NOT$env,"_{",NOT$linear,NOT$time,"}$ and $",NOT$time,"$.  
                          This option allows you to generate environmental values that can change linearly with time, 
                          for example mimicking phenology during a season or long-term environmental changes.",sep=""),
  "environment_5"       = paste("If you are interested in mimicking daily or seasonal fluctuations you can choose a <b>cyclic</b> 
                          (sinusoidal) environmental variation, according to a sinusoidal equation.
                          $$",NOT$env,"_{",NOT$cyclic,NOT$time,"}=a\\times sin(b.",NOT$time,"+c)+v$$
                          where $\\lvert a\\rvert$ is the amplitude, 
                          $2\\pi/\\lvert b\\rvert$ the period, 
                          $-c/\\lvert b\\rvert$ the horizontal shift, 
                          and $v$ the vertical shift.
                          You can therefore change the shape of the cyclic curve by setting the different parameters.",sep=""),
  "environment_6"       = "By adding up the different options together you can create environmental data with combinations of effects. 
                          Adding the four options together (the most complex situation) will generate environmental data 
                          with a linear trend, cyclicity, autocorrelation and stochasticity.",
  "environment_7"       = paste("The environment could be also <b>shared</b> or <b>unshared</b> among individuals. 
                          A shared environment between individuals means that it is general to all the individuals 
                          within the population. All individuals will experience the same environment even 
                          if the environment would vary over time. In this case, only one environment ($",NOT$env,"$) 
                          will be generated using the different options described above. 
                          An unshared environment between individuals means that each individual 
                          will experience a specific environment. For instance, if we have 3 individuals 
                          in our population 3 different environments $",NOT$env,"_{",NOT$ind,"=a}$, $",NOT$env,"_{",NOT$ind,"=b}$, and $",NOT$env,"_{",NOT$ind,"=c}$ will be generated for 
                          respectively the individual a, b, and c. Although these environments are different, 
                          they follow the same general trend defined by environment options described 
                          previously (stochastic, auto-correlated, linear, and cyclic). 
                          In order to create multiple environments from one environment configuration, 
                          we apply variability around each parameter (e.g. the intercept of the 
                          linear effect or the amplitude of the cyclic effect) that follows 
                          a normal distribution.",sep=""),
  "environment_8"       = paste0("Finally, in SQuID the final output of each 
													environmental effect ($",EQ2$env1,"$, $",EQ2$env2,"$ and $",EQ2$env12,"$) is 
													expressed in unit variance (i.e., $Var(",NOT$env,")=1$) and mean-centered (i.e., $E(",NOT$env,")=0$)."),
  "groupingNerror"      = paste("The high-level grouping term ($",NOT$groupV,"$) is generated from 
                          a normal distribution of mean 0 and variance $Var(",NOT$groupV,")$, 
                          and the residual term ($",NOT$error,"$) from a normal distribution 
                          of mean 0 and variance $Var(",NOT$error,")$.",sep=""),
  
  
  "samplingDesign_1"    = "As a second step, we retrieve a subsample of previously simulated phenotypic values according 
                          to a specific sampling design. The sampling design between individuals 
                          could vary by multiple parameters such as the number of records sampled, 
                          and the instance of those records.",
  "samplingDesign_2"    = paste("First we define the duration of the sampling period that is the same for all individuals.
                          $$t_{sampling}=t_{total}\\times(1-",general_VAR$btwIndVarTimSamp,")$$
                          where $t_{total}$ is the total simulation duration and $",general_VAR$btwIndVarTimSamp,"$ 
                          is the among-individual variance in timing of sampling (between 0 and 0.95).  
                          $",general_VAR$btwIndVarTimSamp,"$ is used to control the spreading intensity 
                          in sampling time between individuals (figure 1). 
                          When $",general_VAR$btwIndVarTimSamp,"$ is small (e.g. 0.1) $t_{sampling}$ is large 
                          (90% of total simulation duration) and all individuals are sampled almost fullmodelTxt
                          within the same period. Note that when $",general_VAR$btwIndVarTimSamp,"$ is 0 all individuals 
                          are sampled with the entire period of the simulation. 
                          Contrarily, when $",general_VAR$btwIndVarTimSamp,"$ is large (e.g. 0.9) $t_{sampling}$ is small 
                          (10% of total simulation duration) and each individual sampling period is spread out
                          within the total simulation duration following a uniform distribution.",sep=""),
  "samplingDesign_3"    = paste("The number of sampled records for each individual ($NR_",NOT$ind,"$) is generated following 
                          a poisson distribution.
                          $$NR_",NOT$ind,"\\sim poisson(NR)$$
                          where $NR$ is the mean number of records.",sep=""),
  "samplingDesign_4"    = "Finally, the exact times of sampling for each individual are generated according 
                          to a uniform distribution within each individual sampling period.",
  
  # Step by Step summary section
  "bivariateStepbyStep" = paste0("SQuID can model a bivariate phenotypic equation with random intercepts 
                                 and slopes for individual identity with respect to two environmental covariates. 
                                 SQuID enables both linear and interactive effects of these covariates on the 
                                 bivariate phenotype (i.e., non-warped vs. warped multi-dimensional reaction 
                                 norm planes; <a href='http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12430/abstract' target='_blank'>Araya-Ajoy <i>et al.</i> 2015</a>; 
                                 <a href='http://onlinelibrary.wiley.com/doi/10.1111/brv.12131/abstract' target='_blank'>Westneat <i>et al.</i> 2015</a>) to be modelled. 
                                 Covariances in SQuID emerge due to user-defined settings in the fixed and 
                                 random parts of the equation. Covariances in the random part are set directly 
                                 by the user, whereas covariances in the fixed part instead emerge when 
                                 a focal environmental effect is set to affect both traits (e.g., $",EQ$mean1.1,"\\neq 0$ and $",EQ$mean1.2,"\\neq 0$). 
                                 A large number of covariance terms, listed here, can thus be simulated."),
  
  # Step by Step bivariate section
  "summaryStepbyStep" = paste0("In the following table, we summarized the components that can be extracted from a mixed-effects model, 
                               using a data set generated by SQuID in a situation where the phenotypic trait y 
                               is a function of two different environmental variables ($",EQ2$env1,"$ and $",EQ2$env2,"$) and their interaction.
  														 The phenotype trait $",NOT$trait.1,"$ is expressed for each individual $",NOT$ind,"$ and at each instance of time $",NOT$time,"$, in each high-level group ",NOT$group,"."),
  
  # Step by Step Input section
  "inputStepbyStepDesign" = "In this section you will configure your simulation and sampling design by entering your 
                            desired parameter values. All the parameters have default values that you 
                            can decide to modify or not.",
  "inputSimDesign"        = "You have to start by generating your world by setting the duration of your study. 
                            The default is set to 100 time steps but you can generate less or more time steps. 
                            You can also select the number of replicated populations you want to generate 
                            (note that data from different populations will be saved in the same output 
                            file that you could later use to run statistical analyses).
                            The replicated populations are generated independently using the 
                            same simulation design that has been initially inputted by the user. 
                            The second step is to decide how many individuals will you create in each sampled population, 
                            how many traits you will create for each individual (max = 2), 
                            and how many groups of individuals will you define within each population.
                            Note that the number of individuals has to be divisible by the number of groups.",
  "inputEnvironment_1"    = paste("You have now to decide what types of environmental effects you will generate for the simulated traits. 
                            In this section you can select a maximum of two environment effects ($",EQ2$env1,"$ and $",EQ2$env2,"$). 
                            These environments can be customized according to the various options 
                            displayed in their respective tabs. You can add stochastic, 
                            linear and cyclic effects to the general structured environmental effects. 
                            Each option can be added or deleted from the general environmental 
                            structure by respectively checking or unchecking its associated checkbox.",sep=""),
  "inputEnvironment_2"    = "For the <b>stochastic</b> effect you have to specify the variance for that environment. 
                            This variance will create stochastic variation in the environmental value from one time step to the next. 
                            Furthermore, within the stochastic environmental effect section, it is possible to add <b>auto-correlated</b> 
                            effects that follow the algorithm presented in the &ldquo;Description&rdquo; page. You have to specify the 
                            correlation value ranging from 0 to 1 that characterizes the magitude of temporal autocorrelation.",
  "inputEnvironment_3"    = "You can also choose whether or not the environment is showing a <b>linear</b> or a <b>cyclical</b> 
                            temporal trend. One more time, you have to specify the parameter values for each 
                            option such as the intercept and the slope for the linear effect and the amplitude, 
                            the period, the horizontal shift and the vertical shift for the cyclic effect.
                            Therefore, if you select the three options you can create linearly increasing 
                            environmental values with some cyclic and stochastic variation from time to time.",
  "inputEnvironment_4"    = "For each environment type (stochastic, linear and cyclic), you can also choose whether that 
                            environmental effect is shared or not between individuals by checking or not 
                            the &ldquo;Shared environment&rdquo; checkbox. For instance, you could decide to share 
                            the stochastic and linear environmental effects between individuals while the 
                            cyclic effect is not shared. When an environment effect is not shared 
                            between individuals an input cell appear showing the environmental 
                            variance value used to generate the different environments. 
                            These individual-specific environments are created by varying their parameters 
                            with a normal distribution where the mean is the parameter value itself and 
                            the variance is the specified environmental variance and that for each 
                            environment effect type.",
  "inputEnvironment_5"    = paste0("Furthermore, below each environmental option a graph of the general environmental 
                            structure is displayed in order to facilitate the environment visualisation 
                            before running the simulation. Note that when the environment is shared (general to all individuals) only 
                            one environmental pattern is displayed. In contrast, when the environment 
                            is not shared (specific to each individual) multiple environment patterns (one for each individual) 
                            are instead displayed in different colours. 
                            To understand how the environment generator works we suggest to start 
                            with simple environmental structures such as only linear or cyclic and 
                            then add further complexity by combining multiple environmental effect types.
  													Also, remember that in SQuID the final output of each 
  													environmental effect ($",EQ2$env1,"$, $",EQ2$env2,"$ and $",EQ2$env12,"$) is 
  													expressed in unit variance (i.e., $Var(",NOT$env,"=1)$) and mean-centered (i.e., $E(",NOT$env,")=0$).
  													However, the previsualization graph below displays the generated environmental data before standardization."),
  "inputEnvironment_6"    = paste("Finally, you can add a third environmental effect corresponding to the 
                            interaction between $",EQ2$env1,"$ and $",EQ2$env2,"$. 
                            Note that an environmental interaction is allowed only when $",EQ2$env1,"$ 
                            and $",EQ2$env2,"$ are selected.",sep=""),
  "inputEnvironment_7"    = "For the analysis part, these environmental effects can be known or unknown to the researcher.
                            For the known environment we assume that you have been able to measure 
                            the environmental values and thus will be able to use them for further analyses. 
                            Unknown environments, in contrast, represent environments that 
                            are not measured. This corresponds to the cumulative effects 
                            of the many environmental factors on your trait that you did not 
                            have the opportunity to measure but that are still affecting it.",
  
  
  "inputEquation"        = "You are not yet at the stage where you generate the phenotypic values of the trait(s). 
                            Note that the program gives you the phenotypic equation of the model you just set up. 
                            Any change in the parameters of the model will lead to a change in 
                            the equation that is shown below.",
  
  "inputPhenDesign"      = "The section below allows you to enter all the information on the variance components 
                            affecting the phenotypic values of the trait(s). It is a dynamic section that 
                            changes according to the parameters you have included earlier in the model. 
                            For example when you choose to simulate two traits you obtain a matrix of 
                            variance/correlation for the two traits taht otherwise does not appear. 
                            Depending on the model you have specified 
                            earlier some of the matrix cells will appear in colour. 
                            These are the variance and correlation components that you can choose 
                            to specify according to the model you have chosen before.
                            The section is organised so that you can specify population mean values on top, 
                            and then individual variance/correlation values. At the bottom of the window you 
                            have the option to add some residual and grouping variance.
                            Please pay attention that in the matrix below, the <b>correlation</b> between each component 
                            pair has to be entered and not the covariance.",
  
  "inputVarSummary"      = "Congratulation you just got your simulation design configured. 
                            At this point you can visualize a summary of all the variances  and covariances 
                            of the model that you just defined. 
                            This summary table contains the value of each variance in addition to its proportion 
                            according to the total phenotypic variance.",
  
  "inputSamplingDesign_1"= "Now you have simulated populations of individuals each with trait values for each time step. 
                            It is time to sample as a biologist would by capturing and testing or observing 
                            individuals for a limited amount of time during the study period. 
                            To mimic this situation SQuID offers several options related to the 
                            sampling design you want to use.",
  "inputSamplingDesign_2"= "In the top left hand side of the sampling design section you have to enter the average 
                            number of records per trait. This number has to be between 1 and the number of 
                            time steps of the study period. SQuID does not let you specify other numbers. 
                            In the input cell underneath you can enter a value for the among-individual 
                            variance in timing of sampling (between 0 and 0.95); a variance of zero means 
                            that you have no among-individual differences in the timing of sampling. 
                            An increase in the variance leads to a decrease in the overlap between 
                            individual samples thus a decrease in the time of sampling for each individual.",
  "inputSamplingDesign_3"= "On the right hand side of the section, there are little check boxes that 
                            allow you to indicate whether you want the same or different numbers of 
                            records per individual, and if you want individuals to be sampled at the 
                            same or different times (when you have two traits you can specify 
                            whether you want records for the two traits at the same or different 
                            times and the same or different number of records for the two traits). 
                            Note that if you click on the box untitled &ldquo;same sampling time among 
                            individuals&rdquo; SQuID will automatically consider that the number of 
                            sampled records is the same between individuals in addition that records are taken
                            at the same time.",
  "inputSamplingDesign_4"= paste0('Finally, SQuID offers a previsualization of the sampling design. 
                            The figure shows when the trait $',NOT$trait.1,'$ of the first 5 individuals will be sampled. 
                            The preview figure will be updated automatically when the user changes one 
                            of the sampling parameters. Note that the sampling design displayed is 
                            just one of many possible examples. We suggest to press the "Refresh" button 
                            in order to visualize other possible examples of sampling designs that are generated 
                            according to the rules defined by the entered parameters.'),
  
  "inputRun"             = "It is now time to run your simulation and to check the output in the output tab. 
                            Note that if any inputs have been improperly entered the run button will be 
                            inaccessible and it will not be possible to run the simulation.
                            For instance, this could happen if you enter a correlation value in the 
                            correlation/variance matrix that is out of the authorized range (between -1 and 1) 
                            or if the number of sampled records is higher than the duration of the sampling period. 
                            In that case you should fix all the input errors and then run 
                            the simulation. ",
  
  "inputRcode"          = "Note that simulations can also be run directly in R using our function <i>squidR()</i>. 
													 You can download the R code required to run the current 
													 simulation that is based on the parameter values you have entered.",   
  
  "output_1"            = "While you are running the simulation, SQuID is bringing you to the output tab. 
                          Here you have the opportunity to download generated (raw and sampled) 
                          data or to inspect figures showing different components of 
                          your simulation such as the environment patterns, 
                          the individual phenotypic values, and the sampling 
                          events over the simulation time. ",
  "output_2"            = "The first section contains figures that show how the different environmental parameters 
                          are distributed in time. When you do not set up any environment 
                          parameters the figure show a flat line.",
  "output_3"            = "If you click on the &ldquo;Individual Phenotypes&rdquo; option you can access to top figure 
                          showing the complete set of values for each individual at each time step, 
                          and the bottom one showing the values sampled for each individual according 
                          to your sampling design.",
  "output_4"            = "Finally by clicking on the &ldquo;Sampling time&rdquo; option you can see a figure illustrating 
                          the distribution of sampling occasions 
                          for each individual through time.",
  "output_5"            = "We also provide a brief description of the generated data, 
                          either raw data or sampled data, which are available to 
                          download as a .csv files.",
  "output_figure_color" = paste0("The figures below show the data related to one trait ($",NOT$trait.1,"$) and one 
                                replicate of the 20 first individuals of the simulated population."),
  
  
  
  
  
  
  
  
  
  
  "last" = "last"
  
  

)

module1_txt <- list(
  "title"         = paste("Partitioning variances: Differences between $V_",NOT$total,"$, $V_",NOT$devI,"$ and 
                           measurement error variance",sep=""),
  "goal"          = "<b>Goal:</b> to develop understanding of hierarchies in variance when individuals express traits repeatedly.",
  "statModTitle"  = "<b>Statistical model:</b>"
)

# Step 1 --------------
Mod1Step1_txt <- list(
  
  "title"      = "Step 1. Mean and variance when the trait is expressed once and does not change",
  "subgoal"    = "<b>Sub-goal:</b> Illustrating the concept of variance and mean, 
                  for traits with no within-individual variance but which is measured with error.",
  "intro"      = paste("<b>Introduction:</b> This is the simplest possible situation. 
                       A trait as measured for a group of individuals from a population 
                       is characterised by a mean ($",NOT$mu,"$) and a variance ($V_",NOT$total,"$).",sep=""),
  "exercise"   = "<b>Exercise:</b> In this situation we assume that we only have one value of the trait for each individual. 
                  You first have to decide how many individuals to measure.",
  
  "para1"      = paste("In every case that we measure something, we know that we are making an error in the measurement. 
                       This error is assumed to be non-directional and hopefully represents only a small portion of 
                       the total variance $V_",NOT$total,"$. Below play with the error term. 
                       Generally measurement error variance should not be high, 
                       ideally lower than 5% of the total variance, but of course some traits 
                       can be associated with much higher measurement error.",sep=""),

  "explanation1"  = paste("An explanation of notation: There are several kinds of unaccounted variance 
                          in a statistical model. This are called, variously, &ldquo;error variance&rdquo; or &ldquo;residual variance&rdquo;.  
                          Measurement error is one source of this variance, but as you will see below, 
                          not all unaccounted variance is the result of error. 
                          To distinguish these with notation, we will use $V_",NOT$mError,"$ for measurement error 
                          and $V_",NOT$residualUpper,"$ for the more general residual variance. In this particular step, 
                          $V_",NOT$residualUpper,"=V_",NOT$mError,"$. ",sep=""),
  
  "note1"      = paste("Note that in this module, the total phenotypic variance $(V_",NOT$total,")$ is restrained to 1. 
                       This will allow a better understanding of the proportions of the different model variance components.",sep=""),
  
  "point"      = paste("<b>Point:</b> The variance of measures $(V'_",NOT$total,")$ is often higher than the variance 
                       of true individual variance $(V_",NOT$devI,")$ if there is measurement error 
                       (and there will always be some). The estimate of total variance includes 
                       both individual differences $(V_",NOT$devI,")$ (not measured directly) and measurement error $(V_",NOT$mError,")$. 
                       Note also that the estimated $V'_",NOT$total,"$ (total variance of sampled values) 
                       typically differs slightly from 1. This is because we have sampled 
                       from a population where the true total phenotypic variance that includes 
                       individual (biological) variance and measurement error variance, 
                       while equal to 1, may not be 1 in your sample. 
                       The difference thus arises from sampling variance.",sep=""),
  
  "solutions"  = "<b>Solutions:</b> First work to reduce the measurement error; 
                  to do so, you need to know the magnitude of measurement error. 
                  This requires measuring individuals more than once. 
                  This is explained in step 2 of this module.",
  
  "statmodel1"  = "Throughout these modules we will provide you with the statistical 
                  model that we've explored. These come in two forms. 
                  The first is an equation that describes each data point 
                  (particular measurements on individual phenotypes). Since we are using 
                  phenotypic measures as the focus here, we call this the &ldquo;phenotypic equation&rdquo;. 
                  You have just explored the following phenotypic equation:",
  
  "statmodel2"  = paste0("where $",NOT$trait.1,"_{",NOT$time,NOT$ind,"}$ is the measured phenotypic 
                          value of the $h^{th}$ measurement 
                         (in this case $",NOT$time,"$ = 1) on the $i^{th}$ individual, $",NOT$devI,"_",NOT$ind,"$ is the true deviation 
                         of the individual's trait from the population mean 
                         (which is assumed to be 0 for now), and $",NOT$error,"_{",NOT$time,NOT$ind,"}$  is the residual 
                         deviation of that measurement from the true value, 
                         caused in this scenario by measurement error."),
  
  "statmodel3"  = paste0("The second type of equation is a partitioning of variance 
                         where the terms are defined as above. These have direct connection 
                         to the values in the phenotypic equation, with the exception 
                         that in this scenario the variance in $",NOT$error,"_{",NOT$time,NOT$ind,"}$, often called residual variance, 
                         is measurement variance $(V_",NOT$mError,")$")
)

# Step 2 --------------
Mod1Step2_txt <- list(    
  "title"     = "Step 2: Repeatability and measurement error",
  "subgoal"   = paste0("<b>Sub-goal:</b> Learning how to estimate measurement error variance $(V_",NOT$mError,")$ 
                  in traits varying solely among individuals."),
  "intro"     = "<b>Introduction:</b> In the previous step, you estimated the mean and the total 
                  variance of a sample of individuals measured once. 
                  From this you learned that some of the observed 
                  variation in measures might be due to measurement error, 
                  which occurs when the measured value deviates 
                  (for whatever reason) from the biological value. 
                  Here we detail the sampling design that you might 
                  use to directly estimate the magnitude of measurement error; 
                  we do this for a trait where the true value of the trait 
                  is constant for an individual (cf. a &lsquo;fixed&rsquo; rather than &lsquo;labile&rsquo; trait, 
                  e.g. structural size in adulthood).  Measurement error can be estimated 
                  by measuring the same set of individuals multiple times 
                  (preferably in a blind and randomized order). Since their trait values are fixed, 
                  any deviation in measured values across measurements of the same individuals should be due to measurement error.",
  "exercise"    = paste("<b>Exercise:</b> To simulate this new situation, 
                  we advise using the same parameters as in the previous step, 
                  in terms of the number of individuals and measurement error 
                  ($V_",NOT$mError,"$; expressed as a proportion of the total phenotypic variance, $V_",NOT$total,"$) 
                  so that you can compare your output with the previous step:",sep=""),
  
  "para1"   =  "You also need to enter how often each individual is measured. 
                We call this variable &lsquo;Number of trait expressions&rsquo;. 
                For simplicity, we are assuming that each individual 
                is measured the same number of times. Because we are 
                interested in setting up a scenario where individuals are 
                assayed repeatedly, you should set a number equal or greater than two. 
                Play around with how often you measure each individual, 
                because the number of repeated measurements per individual 
                affects how well your estimated values approximate the true values.",
  "para2"   =  "As before, we present the output in the form of a collection 
                of figures and tables that shows you your estimated values 
                (derived from a univariate mixed-effects model) as well as the true values. 
                Compare how the estimated values deviate from the true values; 
                play for example with the &lsquo;number of trait expressions&rsquo; 
                to see how the number of repeated measurements per individual 
                affects your estimates and how much they deviate from the true values.",
  "para3"   =  paste("The three density plots show the distribution of estimated total phenotypic variance $(V'_",NOT$total,")$, 
                the estimated variance among individuals $(V'_",NOT$devI,")$, and 
                the estimated variance within individuals $(V'_",NOT$mError,")$. 
                It demonstrates graphically that $V'_",NOT$total,"=V'_",NOT$devI,"+V'_",NOT$mError,"$.",sep=""),
  
  
  "point"   =  "<b>Point: </b> If you have inputted the same parameter values as for step 1, 
                you see that we are now (more) properly estimating the individual variance. 
                This is because we have directly estimated the within-individual variance 
                due to measurement error by measuring each individual (at least) twice.",

  "para4"   =  "Measurement error can obscure true biological variance. We typically 
                express the amount of biological variance we can measure as a proportion 
                of the total observed variance; this standardized metric 
                is called &quot;repeatability&quot;:",
  "para5"   =  "Repeatability tells you how well your current measurement predicts a 
                future measurement of the same individual. Logically, the repeatability 
                is 1 if there is no measurement error (try it out!). The effect 
                of measurement error can be nicely illustrated in a graph where we plot 
                the first vs. second measurement. ",
  
  "para6"   =  paste0("The scatter plot shows how correlated the first and second measurements are. 
                In the absence of measurement error (i.e., $V_",NOT$mError,"=0$), 
                all points align on a single line ($y=x$). Play around with the settings of $V_",NOT$mError,"$; 
                the higher the value, the more widely the data points get dispersed around $y=x$, 
                i.e. the higher the measurement error the lower our ability 
                to predict an individual's phenotype based on a previous measurement. 
                Repeatability thus provides an assessment of how well one has measured 
                a particular phenotype. Repeatability can be used for several other purposes too, 
                so the way it is calculated may vary some. We will develop some of these nuances later on."),
  "RCode"      = "# install.packages(&quot;lme4&quot;)<br>
                  LMM <- lme4::lmer(Phenotype ~ 0 + (1|Individual), data = sampled_data)"
)

# Step 3 --------------
Mod1Step3_txt <- list(  
  "title"     = "Step 3: Within- and among-individual variance",
  
  "subgoal"   = "<b>Sub-goal:</b> to illustrate hierarchical structure of variance when individuals 
                         express traits multiple times (a trait varies within-individuals).",
  
  
  "intro"     = "<b>Introduction:</b> Individuals express different values of a trait at different 
                times due to the influence of the environment. Collecting two or more measures 
                for each individual provides several types of information. 
                We have already seen that it can allow estimation of measurement error. 
                If the measurements are spread over time, then you can also estimate 
                how much variance is due to the environment and how the phenotype 
                responds to the environment. Finally, repeated measurements can measure 
                whether differences among individuals are solely due to differences in the 
                environment at the time of measurement versus to some other source, 
                such as differences among individuals that were generated before the period of measurement.",
  
  
  "exercise"  = paste0("<b>Exercise:</b> As in the two previous steps we will generate a new group 
                      of individuals but we will also add a new form of variance. 
                      Previously, you generated a population of individuals that varied in 
                      their true value $(V_",NOT$devI,")$ and also due to observer measurement error $(V_",NOT$mError,")$. 
                      We assumed that individuals had the same trait value throughout 
                      the duration of our study. But, what if trait values changed over time, 
                      perhaps in response to some environmental gradient? To start exploring this idea, 
                      let's assume that all individuals would respond to this gradient in the same way, 
                      but they might experience different values of the environment.  
                      This means that in addition to $V_",NOT$devI,"$ and $V_",NOT$mError,"$ there is variation caused by the population 
                      mean response to an environmental effect on the phenotype of an individual. 
                      In this step, the environmental effect is considered as individual-specific 
                      but unknown to the observer. An (individual-) specific environmental effect 
                      means that each individual of the population will experience different environmental 
                      conditions than do other individuals. For instance, the intensity of 
                      intra- and inter-specific competition within a population might be experienced 
                      differently between individuals. An unknown environmental effect represents 
                      environmental values that are not measured thus cannot be included in the statistical analysis. 
                      Earlier we noted that $V_",NOT$residualUpper,"$ is called &ldquo;residual variance&rdquo;. Now, unknown, 
                      environmentally-caused variance will be combined with $V_",NOT$mError,"$ to make $V_",NOT$residualUpper,"$, 
                      and is the primary reason for calling it &ldquo;residual&rdquo; variance.  
                      In reality, there may be many environmental effects, both known and unknown. 
                      We will use the term $V_",NOT$envEffect,"$ to refer to all phenotypic variance caused by the environment. 
                      Known environmental variance will be indicated by $V_{",NOT$mean," ",NOT$env,"}$."),
  
  "exercise2"  = paste0("In this simulation, let's assume there is only one environmental effect. 
                        We will specify it to generate phenotypes, so let's use the term $V_{",NOT$mean," ",NOT$env,"}$. 
                        You can thus try several combinations of $V_",NOT$mError,"$, $V_",NOT$devI,"$, and $V_{",NOT$mean," ",NOT$env,"}$ 
                        (with the constraint that they add up to 1) to uncover how the input values 
                        affect the estimates of repeatability and each variance component. 
                        Just remember that for now $V_{",NOT$mean," ",NOT$env,"}$ is one environmental effect but 
                        it will be measured as part of the residual."),
  
  "para1"    = "Once again you can calculate repeatability as",
  
  "point"    = paste0("<b>Point:</b> We can now estimate a particular variance component 
                of $V_{",NOT$total,"}$ that represents among-individual differences that are consistent through time. 
                This variance is also, in some circumstances, the index for individual 
                &ldquo;personality&rdquo; differences. The residual variance combines both measurement 
                error and the variance caused by the unmeasured (unknown) specific environment to each individual. 
                $V_{",NOT$envEffect,"}$ in general reflects plasticity to unknown environments, 
                with $V_{",NOT$mean," ",NOT$env,"}$ indicating variance due to a specified environmental variable $(",NOT$env,")$, 
                which so far has not been measured."),
  "point2"    = "You can now test whether the number of individuals sampled and the number 
                of repeated measures per individual can affect your estimation.",
  "point3"    = "Repeatability now does not represent the same thing as previously 
                because the denominator of the ratio includes both measurement error 
                and variance due to plasticity. This new repeatability is not simply 
                a measure of your skill at measuring phenotypes. 
                Instead, it now is an estimate of a biological phenomenon: 
                consistent individual differences (i.e. personality in the case of behaviour). 
                This estimate is conservative because measurement error reduces the estimate 
                to be less than the true biological repeatability. Measurement errors 
                in this scenario are not separable from the plastic response of individuals 
                to an unmeasured environment. To calculate measurement error alone, 
                you would have to collect more than one measure on the same trait 
                for each individual in the same environment (e.g. two persons can observe the behaviour 
                of an individual on the same video recording or measure the trait at close to the same time).",
  
  "statmodel"   = "Because the environmental effect in this scenario was unknown, 
                    the statistical models are the same as before, with two exceptions.  
                    First, the phenotypic equation is as before,",
  "statmodel2"  = paste0("except that $",NOT$error,"_{",NOT$time,NOT$ind,"}$ contains both measurement 
                           error and deviations described by $",NOT$mean," ",NOT$env,"_{",NOT$time,NOT$ind,"}$"),
  "RCode"       = "# install.packages(&quot;lme4&quot;)<br>
                  LMM <- lme4::lmer(Phenotype ~ 0 + (1|Individual), data = sampled_data)"
)


# Step 4 --------------
Mod1Step4_txt <- list( 
  "title"     = "Step 4: Explaining Environmental Variance",
  
  "subgoal"   = "<b>Sub-goal:</b> to explain unknown environmental variance.",
  "intro"     = paste0("<b>Introduction:</b> In step 3, we introduced $V_{",NOT$mean," ",NOT$env,"}$ 
                       as the variance caused by the environment. 
                       We did not know what that effect was (it was unmeasured), 
                       but often we can measure the environment and assess its influence on phenotype. 
                       In this step, we demonstrate how that is done."),
 "exercise"    = paste0("<b>Exercise:</b> As before, we will generate a new group of individuals, 
                  with phenotypic variance caused by measurement error $(V_",NOT$mError,")$, individual differences $(V_",NOT$devI,")$, 
                  and specific and measured (i.e. known) environmental effects $(V_{",NOT$mean," ",NOT$env,"})$ on the phenotype of an individual. 
                  As before, you can set $V_",NOT$mError,"$, $V_",NOT$devI,"$ and $V_{",NOT$mean," ",NOT$env,"}$, but we suggest you use the same values you did in Step 3.
                  Remember that these variances must add up to 1."),

  "para1"    = paste0("At this point, we want to expand on the idea of statistical models. 
                The equations that specify effects producing each individual data point can 
                be hypotheses about the real world. In the made-up world of SQuID, 
                these analysis models have the potential of recreating it exactly. 
                The real world is different and most of the lessons we will cover have 
                to do with problems in estimating terms in analysis models when much is unknown. 
                For now, we will specify a model that should recreate our simulated set of effects 
                completely (with the caveat that we are sampling from an infinite population so 
                observed values will differ from input values). This new model will make explicit 
                as well that $",NOT$devI,"_",NOT$ind,"$ is defined as the deviation of each individual from a population value. 
                Until now, that population value has implicitly been 0, so we haven't used it. 
                But, since we are now including a slope term that allows us to explain environmental variation, 
                it is important to also introduce the population intercept term. 
                For now, we will still have the population mean be = 0, but it is appropriate to include 
                this intercept in all equations because it could be some other value. The model is:"),

 "para2"    = paste0("where $",NOT$trait.1,"_{",NOT$time,NOT$ind,"}$ is the phenotype measured at the 
                     $",NOT$time,"^{th}$ time for the $",NOT$ind,"^{th}$ individual, 
                     $",EQ3$mean0,"$ is the population mean phenotype, 
                     $",NOT$devI,"_",NOT$ind,"$ is the individual mean deviation from the population mean for the $",NOT$ind,"^{th}$ individual, 
                     $",NOT$mean,"$ is the population mean effect of measured environment $",NOT$env,"_{",NOT$time,NOT$ind,"}$ on the measure of phenotype, 
                     and $",NOT$error,"_{",NOT$time,NOT$ind,"}$ is the error made in that measurement."),

  "note1"    = paste0("Note that in SQuID each environmental effect $(",NOT$env,")$ is expressed in unit variance 
                      (i.e., $Var(",NOT$env,")=1$) and mean-centered (i.e., $E(",NOT$env,")=0$).
                      Then $V_{",NOT$mean," ",NOT$env,"}=Var(",NOT$mean," ",NOT$env,")=",NOT$mean,"^2Var(",NOT$env,")=",NOT$mean,"^2$"),

  "para3"    = "A mixed statistical model estimates these parameters:",
  "para4"    = paste("Visually, you can see what $",NOT$mean,"$ 
                     is in the following graph:",sep=""),
  "para5"    = "The variance among individuals can still be visualized in this world by plotting 
                each individual&#39;s dataset and line.",
 
  "para6"    = paste0("We encourage you to go back and play around with the magnitude of $V_",NOT$mError,"$ 
                to see how it affects estimates of  $",NOT$mean,"$
                and $V_",NOT$devI,"$. You can also play around with the slope and the ratio of 
                $V_{",NOT$mean," ",NOT$env,"}$ and $V_",NOT$devI,"$ to better understand the effects."),
 
 "point"    = "<b>Point:</b> This exercise introduced explanatory variables (also known as fixed effects). 
               Because individual is a &ldquo;random&rdquo; effect, this is thus a &ldquo;mixed effects&rdquo; model. 
               The fixed effect part is a linear regression. Even if this is all you want to do with your data, 
               it is important to understand that a sampling regime in which individuals 
               are measured more than once creates the need to do linear regression within a mixed model. 
               Although we do not focus much on significance testing here, the structure of data collected 
               in this simulation strongly affects inferences based on hypothesis testing. 
               More importantly, the combination of random effects and fixed effects sets one up 
               to investigate a wide array of processes involved at one or more levels in 
               this hierarchal structure of among versus within-individual variance.",
 "RCode"    = "# install.packages(&quot;lme4&quot;)<br>
               LMM <- lme4::lmer(Phenotype ~ 1 + X1 + (1|Individual), data = sampled_data)"
)

module3_txt <- list(
  "title" = "Exploring the impact of sampling",
  "goal"  = "<b>Goal:</b> Real studies encounter a variety of issues that affects the conclusions 
            that can be drawn from data analysis. Here, we explore the real world problem of 
            biases in sampling and what happens when the researcher does not know about the 
            reason for the bias. We also then investigate how the results from data analysis 
            improve as the researcher knows more about the underlying mechanisms leading to biased sampling."        
)

# Step 1 --------------
Mod3Step1_txt <- list(
  
  "title"      = "Step 1: Sampling and non-stochastic environment",
  "subgoal"    = "<b>Sub-goal:</b> to explore how hidden patterns in environment combined with variance in sampling 
                  affect estimates of variance parameters and their interpretation.",
  
  "intro"      = paste0("<b>Introduction:</b> In the previous module (<i>",Module_titles$mod1,"</i>), 
                        we partitioned phenotypic variance into several components 
                        (the variance among individuals, $V_",NOT$devI,"$, the variance caused by measurement error, $V_",NOT$mError,"$, 
                        and variance caused by the environment, $V_",NOT$envEffect,"$). In the final step of that module, 
                        we illustrated how measurement of the environment could help explain some of the variance. 
                        Often, when we study phenotypes in natural populations, many aspects of the environment 
                        that could affect phenotypes will be unknown and so not measured. In Step 3, 
                        this unmeasured environmental variance ended up as &ldquo;residual&rdquo; variance, 
                        and it had no effect on the estimate of among-individual variance because 
                        the environment was randomly determined from one sampling period to another 
                        and all individuals were sampled at the same time and experienced the same environment. 
                        In the present module, we explore what happens when we relax this obviously simplified assumption. 
                        For example, suppose the environment changes steadily over the sampling period. 
                        What happens when the pattern of how an investigator measures individuals varies, 
                        such as if the timing of measurement is different for different individuals?"),

  "exercise"   = paste0("<b>Exercise:</b> As in previous simulations, we will generate a new group of individuals, 
                        with phenotypic variation generated by measurement error $(V_",NOT$mError,")$, individual differences $(V_",NOT$devI,")$, 
                        and the impact of the a specified environmental variable $",NOT$env,"$ which produces variance due 
                        to the environment $(V_",NOT$envEffect,")$. We have shifted to using the notation $V_",NOT$envEffect,"$ here instead of $V_{",NOT$mean," ",NOT$env,"}$ 
                        which we used in Step 3 and 4 of the basic module &ldquo;<i>",Module_titles$mod1,"</i>&rdquo;. 
                        We do this because we will soon explore what happens when only some of the environmental 
                        variance is known, and we will use $V_{",NOT$mean," ",NOT$env,"}$ for that known variance."),

  "para1"      = paste0("As before, you can set $V_",NOT$mError,"$, $V_",NOT$devI,"$ and $V_{",NOT$envEffect,"}$, 
                        and for this module, $V_{",NOT$envEffect,"}$ must be greater than 0."),
  
  "note1"      = paste0("Note that from now on, the total variance ($V_",NOT$total,"$) is not restrained to 1 anymore 
                        and the proportion of each variance component is shown next to the input element."),
  "note2"      = "Also, the number of individuals will be set to 100 all along this module.",

  "para2"      = paste0("The environment for this simulation is, for convenience, set as being linear over time, 
                  affecting all individuals similarly (i.e., it is &ldquo;shared&rdquo;). 
                  The environment is also expressed in unit variance (i.e., $Var(",NOT$env,")=1$) 
                  and mean-centered (i.e., $E(",NOT$env,")=0$)."),

  "para3"      = "You also must enter parameters for variance in the sampling timing within 
                  and among individuals. For this simulation, the total number of expressions of 
                  the phenotype from which you can sample is fixed at 100. While you can vary the 
                  number of individual samples taken, for this module to effectively illustrate the 
                  issues with sampling, the number of samples must be much less than 100. 
                  The key parameter to be entered by you will be the among-individual variance in timing 
                  of those records. To illustrate, below are examples of sampling records for a small 
                  number of individuals when the among-individual variance in sampling timing is 0, 
                  and when it is 0.9.",
  "para4"      = "Now you can input your own values.",
  "para5"      = "The figure below shows time of sampling of a subset of individuals according to the values entered.",
  "results"    = "<b>Results</b>",
  "para6"      = "If we have no information about the environment, the model we incorrectly assume to be true is:",
  "RCode"      = "# install.packages(&quot;lme4&quot;)<br>
                  LMM <- lme4::lmer(Phenotype ~ 0 + (1|Individual), data = sampled_data)",
  "para7"      = "A mixed-effects statistical model can then estimate these model parameters:",
  "para8"      = paste0("The above should show that if the unmeasured environment changes over 
                        time AND there is among-individual variance in sampling, then some of the unknown 
                        $V_",NOT$envEffect,"$ is placed into residual variance (making residual variance larger 
                        than just measurement variance $V_",NOT$mError,"$), and some ends up in the estimated 
                        $V_",NOT$devI,"$, also making it bigger than it should be."),
  "conclusion" = "<b>Conclusion</b>",
  "para9"      = paste0("This exercise demonstrates that if there is among-individual variance in timing of sampling, 
                        then estimates of $V_",NOT$devI,"$ will be incorrect since inevitably there are systematic differences 
                        in environments over time. Sampling biases thus can produce &ldquo;pseudo-personality&rdquo; or 
                        &ldquo;pseudo-repeatability&rdquo; (see also 
                        <a href='http://onlinelibrary.wiley.com/doi/10.1111/1365-2656.12013/abstract' target='_blank'>Dingemanse & Dochtermann 2013</a>) 
                        and could mislead a researcher into believing there are consistent differences between individuals 
                        when there are none (or they are much smaller than it appears)."),

  "para10"     = paste0("Because among-individual variance in sampling and systematic changes in environment 
                  are extremely likely in real systems, how can we get accurate estimates of $V_",NOT$devI,"$?"),
  "para11"     = "We explore one solution to this problem:
                  <ol>
                    <li>Adjust sampling regime to minimize it (go to Step 2)</li>
                    <li>Accounting for biases in your analysis (go to Step 3)</li>
                  </ol>"
)

# Step 2 --------------
Mod3Step2_txt <- list(    
  "title"      = "Step 2: Sampling to reduce effects of non-stochastic environment",
  "subgoal"    = "<b>Sub-goal:</b> Using simulations to generate sampling regimes 
                  that limit the effects of non-stochastic environments.",
  "intro"      = "<b>Introduction:</b> Step 1 revealed a problem—non-stochastic environments 
                  through time and variability in the timing of sampling can create biases 
                  in estimates of among-individual variation. In this step we encourage you 
                  to adjust the sampling regime to minimize this problem. It should be obvious 
                  that if all individuals are sampled with the same timing, then the bias 
                  in the estimates of among-individual variance disappears, 
                  but it is worthwhile assessing how close one has to be to identical sampling 
                  and whether there are biases in other parameters that remain. 
                  So, in this step we will allow you to simulate several types of 
                  non-stochastic environments and adjust the sampling regime.",
  
  "exercise"   = paste0("<b>Exercise:</b> As in Step 1, we will generate a new group of individuals, 
                        with phenotypic variance caused by measurement error $(V_",NOT$mError,")$, individual differences $(V_",NOT$devI,")$, 
                        and the impact of the environment $(V_",NOT$envEffect,")$."),
  "para1"      =  "You now get to set the environment. In Step 1 of this module, we used an environment that w
                  as experienced similarly by all individuals (&ldquo;shared&rdquo;) and which changed systematically over time. 
                  Below, you can change these settings to have environments that each individual experiences uniquely 
                  (&ldquo;unshared&rdquo;), and which changes over time as some other function (e.g., stochastically or 
                  as a regressive autocorrelated decay function).",
  "para2"      =  "As in step 1, you also must enter parameters for variance in the sampling timing 
                  within and among individuals. As before, the number of expressions of the 
                  phenotype will be set by us at 100, so keep this in mind as you enter values here.",
  "para3"      =  "The figure below shows time of sampling of a subset of individuals according to the values entered.",
  "results"    = "<b>Results</b>",      
  "para4"      =  "As before, the model we assume to be true (but which is not since the environmental 
                  effect is not included) is:",
  "RCode"      = "# install.packages(&quot;lme4&quot;)<br>
                  LMM <- lme4::lmer(Phenotype ~ 0 + (1|Individual), data = sampled_data)",
  "para5"      =  "A mixed statistical model estimates the parameters which we can compare with the true values:",
  "conclusion" = "<b>Conclusion</b>",

  "para6"      =  paste0("The results of any given simulation may vary, but the overall picture that emerges 
                         if you do several simulations should be that your estimates are better when $V_",NOT$envEffect,"$ is small, 
                         as you measure each individual more often, and your sampling time is increasingly similar 
                         among individuals."), 
  "para7"      =  paste0("Did you simulate a population where the environment is not shared among individuals? 
                         If not, try it now. What you should find is that no matter what the sampling regime, 
                         your estimate of $V_",NOT$devI,"$ is too high. To understand, let's return to the definitions 
                         of the variance components: We defined $V_",NOT$devI,"$ as the variance among individuals that permanently 
                         affected their phenotype throughout the sampling period. Biologically, 
                         this can be ascribed to genetic differences or environments acting during development 
                         (e.g., before measurements started). When environments are unshared during sampling, 
                         the environment is affecting the phenotype each time it is expressed. However, because 
                         the environment is autocorrelated across sampling episodes and differs among individuals, 
                         apparent individual differences arise because individuals are in different environments 
                         not because they entered the time period of phenotypic expression differing in their 
                         phenotype (note: You may be thinking that since individuals in the real world partially 
                         choose their environment then their phenotype is not solely due to the environment. 
                         That is true but does not change the fact that for the focal trait it is sensitive 
                         to the environment the individual is in each time it is expressed. We will get to 
                         the issue of multiple phenotypic characters and how they might integrate in the 
                         &ldquo;<i>",Module_titles$mod4,"</i>&rdquo; module)."),
    "para8"     =  "To conclude for this step, if you do not know what environments are affecting 
                    trait expression, sampling in parallel for all individuals is a possible 
                    solution to potential biases created by non-stochastic environments. 
                    But, because unshared environments can create biases even with identical 
                    sampling (and often identical sampling will be nearly impossible to achieve), 
                    the only other solution is to measure the environment and account for 
                    possible biases explicitly. This is explored next in Step 3."
)

# Step 3 --------------
Mod3Step3_txt <- list(  
  "title"      = "Step 3: Biased sampling and known and unknown environments",
  "subgoal"    = "<b>Sub-goal:</b> Accounting for the environment to control for environmental biases.",
  
  "intro"      = paste0("<b>Introduction:</b> Step 1 of this module illustrated that environmental 
                        effects on phenotypes can produce biases in estimates of among-individual variance $(V_",NOT$devI,")$.  
                        Step 2 explored how altering sampling regimes could reduce this problem but also 
                        revealed that in some circumstances no sampling regime would work. 
                        Sometimes individuals experience different environments, and no sampling regime can adjust for that. 
                        However, if investigators can measure the environment, then such differences could be accounted for. 
                        Environmental variance was accounted for using linear regression in step 4 of the 
                        &ldquo;<i>",Module_titles$mod1,"</i>&rdquo; module. Here we demonstrate that this can, 
                        under some circumstances, solve the bias in sampling problem."),
  "exercise1"  = paste0("<b>Exercise 1:</b> This exercise follows the same structure as all of our other simulations so far. 
                        We will generate a group of individuals, with phenotypic variance caused by measurement error $(V_",NOT$mError,")$, 
                        individual differences $(V_",NOT$devI,")$, and the impact of the environment $(V_",NOT$envEffect,")$. 
                        So, first set the true values of these variances:"),

  "para1"      =  "The environment can be chosen as in Step 2. 
                  It, combined with the sampling regime, will affect within- and among-individual 
                  variance in the environment.",  
  "para3"      = "Finally, we will have you set how much of the environmental variance has 
                  been measured and is therefore known. You will select a proportion, 
                  from 0 to 1 of this variance. This proportion along with the proportion 
                  of total variance that is environmental will determine the correlation 
                  between phenotype and the known environment. The results of Step 1 should 
                  have shown you what happens when all the environmental variance is unknown 
                  (or not included in your statistical model). Here, let’s start with all 
                  the environmental variance being known and measurable.",
  "results"    = paste0("<b>Results:</b> In the module &ldquo;<i>",Module_titles$mod1,"</i>&rdquo;, 
                        Step 4, we said the statistical model was"),
  "RCode1"    = "# install.packages(&quot;lme4&quot;)<br>
                  LMM1 <- lme4::lmer(Phenotype ~ 1 + X1 + (1|Individual), data = sampled_data)",
  "para4"      = "This is the model we will investigate here. 
                  We will compare it to a model in which all of the environmental 
                  variance is unknown, e.g.,",
  "RCode2"    = "LMM2 <- lme4::lmer(Phenotype ~ 1 + (1|Individual), data = sampled_data)",
  "para5"      = "A mixed effects statistical model estimates the parameters, 
                  which we can compare with the true values:",
  "para6"      = paste0("This should show you that when there is among-individual variance in sampling 
                        and you can account for all the environmental variance with an x variable, 
                        any bias in $V_",NOT$devI,"$ caused by the biased sampling disappears."),
  "reminder"   = paste0("A brief reminder about notation: When unknown environments affect phenotypic variance, 
                        we have referred to that variance as $V_",NOT$envEffect,"$.  In the model where the environment is known $(",NOT$env,")$, 
                        there now is a specific component of variance due to that known environmental factor, 
                        $V_{",NOT$mean," ",NOT$env,"}$. In the case above, $V_",NOT$envEffect,"=V_{",NOT$mean," ",NOT$env,"}$, 
                        but in the real world with many environmental variables, 
                        $V_{",NOT$mean," ",NOT$env,"}$ will be only a fraction of $V_",NOT$envEffect,"$."),
  "exercise2"  = "<b>Exercise 2:</b> Now, let's repeat the same simulation as above, 
                  expect this time explore what happens as you change the proportion of the environmental 
                  variance that is known. Below is the bar that allows you to adjust this.",
  "para8"      = "If you want, you can also change the level of bias in sampling.",
  "para9"      = "<b>Results:</b> As above, we will show you the true values you entered, 
                  the values estimated when the environment is unknown, and those estimated 
                  when some portion of the environment is known and included in the model.",
  "conclusion" = "<b>Conclusion:</b> There are two lessons that emerge from this exercise. 
                  First, biases in sampling are usually inevitable, but measuring the underlying 
                  environments that differ among individuals can reduce them. 
                  Thus, if you want to measure among-individual variance, 
                  you must think carefully about potential biases in environments, 
                  and measure those environments. 
                  That will give you a better estimate of among-individual variance.",
  "conclusion2" = paste0("The second lesson is that bias in sampling may occur without 
                         you being aware of it. This unknown environment will affect 
                         your estimate of among-individual variance. Put another way, 
                         any among-individual variance estimated from real data could 
                         be due to unknown biased environments. One cannot be sure that 
                         you have accounted for all of the environmental variance. 
                         The $V_",NOT$devI,"$ that is found from real data must therefore be interpreted cautiously."),
  "finalcaveat" = paste0("<b>A final caveat:</b> An interesting consequence of having variance 
                         in sampling among individuals is that it produces variance in the experienced 
                         environment that exists both within and among individuals. We have assumed 
                         that the impact of the environmental variance that exists among individuals 
                         is the same as that of the variance in environment within-individuals. 
                         As an example, individuals may be on territories with different average 
                         levels of resources through the whole period of time you are taking measurements, 
                         and those resources may fluctuate some from day to day as well. Thus in your population, 
                         there is both among-individual variance in environment 
                         (e.g., differences between territories) and within-individual variance in environment 
                         (differences between days within a territory). We have assumed these have 
                         the same effect on phenotype. It is possible that this is not the case. 
                         If so, the method we have demonstrated here will not give accurate estimates of $V_",NOT$devI,"$. 
                         We discuss one solution to this in a module on within and among-subject centering. 
                         The issues related to centering are complex, so we recommend this module be done 
                         after the module on random regression.")
  
)

module6_txt <- list(
  "title"         = "Random-slope regression",
  "goal"          = "<b>Goal:</b> To explore situations where individuals may not only differ 
                    in their intercepts but also in the slope of their reaction to changes 
                    in a given environmental variable. Random slope regression is a great 
                    tool to analyse among-individual differences in phenotypic plasticity."
)

# Step 1 --------------
Mod6Step1_txt <- list(
  
  "title"      = "Step 1: Introduction to random slopes",
  "subgoal"    = "<b>Sub-goal:</b> to develop understanding of hierarchies in variance when individuals 
                  express their traits as a response to a changing environmental factor, 
                  but do so differently. In other words, 
                  individuals have variable reaction norms in both intercept and slope.",
  
  "intro"      = paste0("<b>Introduction:</b> Modules &ldquo;<i>",Module_titles$mod1,"</i>&rdquo; and &ldquo;<i>",Module_titles$mod3,"</i>&rdquo; 
                        have explored how among-individual $(V_",NOT$devI,")$ variance in mean values can be modelled. 
                        In Step 3 of module &ldquo;<i>",Module_titles$mod1,"</i>&rdquo;, individuals also varied, to some extent, 
                        in how an environmental factor influenced the expression of their phenotypes around this mean, 
                        and these deviations produce within-individual variance as a response 
                        to environmental fluctuations $(V_{",NOT$mean,"})$. Throughout all these lessons, 
                        we have assumed that if the environment changes, individuals change their phenotype 
                        in exactly the same way. This is a dubious assumption and in most biological situations, 
                        it is more reasonable and often more interesting to account for the fact that individuals 
                        might vary in how the environment affects phenotype. For example, individuals may differ 
                        in how they cope with a stressful situation, and less tolerant individuals will alter their 
                        activity to a greater degree in the presence of a stress factor (e.g. high temperature, 
                        presence of a predator, or shortage of food) than stress-tolerant conspecifics. In general, 
                        among-individual differences in plasticity (also called individual by environment interaction; $I\\times E$) 
                        are necessary if adaptive plasticity is to be under selection, and insofar as such differences have 
                        a genetic basis ($G\\times E$), such interactions are necessary for the evolution of plasticity. 
                        Studies of $I\\times E$ in natural populations remain relatively rare. 
                        Here we introduce random-slope regression, in which the assumption about a common within-individual 
                        variance (and plasticity) is relaxed and we explicitly estimate among-individual variance in slope."),
 
  "exercise"  = paste0("<b>Exercise:</b> Here we depart from the random-intercept regression model presented in Step 4 of module 
                       &ldquo;<i>",Module_titles$mod1,"</i>&rdquo; by introducing a parameter that allows defining individual 
                       deviations from the population mean response to environmental changes. 
                       The fundamental difference between the random-intercept regression and the random-slope model, 
                       is that while the former uses individual-level &ldquo;random&rdquo; effects to model 
                       individual-specific intercepts (i.e. that depict the among-individual variance of mean 
                       trait values), the latter introduces an additional &ldquo;random&ldquo; effect on the slopes 
                       (i.e. that describe how individuals respond to changing environments). 
                       For the random-intercept regression, we used the following model to recreate 
                       our simulated set of effects:"),
  "RCode1"    = "# install.packages(&quot;lme4&quot;)<br>
                 LMM1 <- lme4::lmer(Phenotype ~ 1 + X1 + (1|Individual), data = sampled_data)",
  "para1"     = "We will modify this model as:",
  "RCode2"    = "LMM2 <- lme4::lmer(Phenotype ~ 1 + X1 + (1|Individual) + (0 + X1|Individual), data = sampled_data)",
  "para2"    = paste0("in which $",NOT$devS,"_",NOT$ind,"$ is the effect of measured environment 
                $",NOT$env,"_{",NOT$time, NOT$ind,"}$
                on the measure of phenotype in the <i>i <sup>th</sup></i> individual. 
                Accordingly, we can apply the following parameterization regimes:"),
  "note"     = "Note: you can consider residual variance as solely measurement error variance, 
                or you could consider that it might also include some unknown environmental 
                variance in addition to the known environmental variance determined below.",
  "para3"    = "Set in the background is the environmental variable and its sampling. 
                Here we should use uniform sampling, where each individual is sampled 
                at the same time so there are no biases. By definition, 
                our environmental variable is also mean centered.",
  
  "results"  = "<b>Results:</b> A mixed-effects statistical model estimates these parameters:",
  "para4"    = "Individual-specific responses can be best visualised by plotting 
                the individual-specific regression lines.",
  
  "point"   = "<b>Point:</b> Again, we performed linear regression approach in a mixed model framework, 
                but in this case we generated multiple regression lines 
                (by defining different intercepts and slopes) for each individual in a single model 
                to describe the individual-specific effect of an explanatory variable. 
                Individual-specific responses to changes that occur along an environmental 
                gradient form &ldquo;reaction norms&rdquo;. These reaction norms, if the environmental 
                gradient is centred around zero, can be characterized by their intercept that 
                describes individual mean expression values, and by their slope that expresses 
                the plasticity of traits within individuals. Statistically, one can evaluate whether 
                the random-intercept or the random-slope model fits the data at hand better. 
                However, the consideration of differences in how individuals respond to environmental 
                fluctuations may be straightforward on a biological basis. This model simultaneously 
                accommodates tests for individual personality differences (i.e. the calculation of 
                repeatability makes sense) as well as tests for individual by environment interaction.",
  "RCode"    = "# install.packages(&quot;lme4&quot;)<br>
               LMM <- lme4::lmer(Phenotype ~ 1 + X1 + (1|Individual) + (0 + X1|Individual), data = sampled_data)"
)

# Step 2 --------------
Mod6Step2_txt <- list(    
  "title"      = "Step 2: Intercept-slope correlation",
  "subgoal"    = "<b>Sub-goal:</b> To introduce and understand correlation (covariance) between intercepts and slopes.",
  "intro"      = "<b>Introduction:</b> Up until this point, we have been making the hidden and simplifying 
                  assumption that each variable in our variance partitioning is independent of other variables. 
                  In other words, we have assumed, for example, that measurement error is not correlated with 
                  individual intercept or environment. For the most part, we will continue to make these assumptions, 
                  but the introduction of random slopes means we have two variances, in intercepts and slopes, 
                  that are part of phenotypic variance and attributes of individuals. Biologically, 
                  it becomes very interesting if there is a correlation between intercepts and slopes. 
                  That correlation can be either positive or negative, and we will have you simulate data 
                  both ways so you can see what the sign of the correlation does to the pattern of variance 
                  within and among individuals.",
  
  "para1"      = "We use the same equation as before, e.g.,",
  "para2"      = "but now we make the formally hidden assumption explicit with some new nomenclature:",

  "para3"      = paste0("This means that the intercept value of the <i>i <sup>th</sup></i> individual $(",NOT$devI,"_",NOT$ind,")$ 
                        and the slope of that individual $(",NOT$devS,"_",NOT$ind,")$ are distributed as multivariate 
                        normal with means for each attribute of 0 and a variance-covariance structure 
                        of $\\Omega_{",NOT$devI,NOT$devS,"}$. We then specify the variance-covariance structure in a 2 by 2 matrix. 
                        You have seen the variance terms ($V_",NOT$devI,"$  and $V_",NOT$devS,"$ ) before, 
                        but the new term introduced here is $Cov_{",NOT$devI, NOT$devS,"}$, which is the measure of 
                        how much $",NOT$devI,"_",NOT$ind,"$ and $",NOT$devS,"_",NOT$ind,"$ covary together."),
  
  "exercise"   = "<b>Exercise:</b> We will do a very similar simulation as in Step 1, 
                  but you will then enter some value for the covariance between the intercept and the slope. 
                  You will enter this covariance as a standardized value by expression it as 
                  a correlation ranging between -1 and +1:",
  "para4"      = "We will then examine the appearance of the resulting data.",
  
  "results"    = "<b>Results:</b> A mixed-effects statistical model estimates these parameters:",
  "note1"      = paste0("Note that we have slightly changed what is presented in the table above. 
                        Whereas earlier we presented the phenotypic variance due to a particular term 
                        (e.g., the variance due to individual differences in response to an environmental 
                        factor, or $V_{",NOT$devS,NOT$env,"}$), above we present what many statistical packages produce, 
                        which in the case of random slope, is the variance in slope $(V_",NOT$devS,")$ 
                        rather than the phenotypic variance due to slope."),
  "para5"      = "The best way to develop an intuition about what the covariance represents 
                  is to compare a graph with and without it. Below are two panels of simulated data. 
                  The one on the left shows your simulated individuals without the covariance, 
                  and the one on the right is the same set with the covariance you entered. 
                  The difference will, of course, be more obvious if you entered a large covariance (correlation).",
  
  "para6"      = "Try this step a couple of times to explore in particular what a negative 
                  versus positive covariance does to the pattern of reaction norms.",
  
  "point"      = "<b>Point:</b> Intercept-slope covariance is an additional layer 
                  to understanding the phenotypic equation. You will note that it 
                  is not a parameter in the equation itself, but is rather describing 
                  the relationship between two parameters in the equation—that is, 
                  how they behave across individuals. 
                  The covariance does normally appear in a partitioning of variance:",
  "note2"      = paste0("Note: In SQuID $E(",NOT$env,")=0$ and hence the covariance does not contribute to total phenotypic variance."),
  "para7"      = "The biology of the covariance is just beginning to be explored 
                  (e.g., <a href='http://onlinelibrary.wiley.com/doi/10.1111/j.1461-0248.2011.01698.x/abstract' target='_blank'>Mathot et al. 2011</a>).
                  Undoubtedly further understanding of it will contribute to understanding 
                  the evolution of plasticity, since the covariance links variation 
                  in plasticity with variation in mean trait values, 
                  and therefore could affect evolution in unexpected ways.",
  "RCode"      = "# install.packages(&quot;lme4&quot;)<br>
                 LMM <- lme4::lmer(Phenotype ~ 1 + X1 + (X1|Individual), data = sampled_data)"
)

# Step 3 --------------
Mod6Step3_txt <- list(  
  "title"      = "Step 3: Sample size and precision",
  "subgoal"    = paste0("<b>Sub-goal:</b> to develop understanding of how the level of replication 
                        in terms of the number of individuals and samples per individual 
                        influence the estimation of the among-individual variance in intercepts $(V_",NOT$devI,")$, 
                        slopes $(V_{",NOT$devS,"})$ and their correlation $(Cor_{",NOT$devI,",",NOT$devS,"})$."),
  "intro"      = "<b>Introduction:</b> Several papers have addressed the issue of sample size requirements 
                  for random regression models. The general conclusion is that accurate estimates 
                  of random regression parameters require relatively high sample sizes, 
                  particularly for estimating the correlation between intercepts and slopes. 
                  When planning an optimal experimental design, researchers are faced with a 
                  trade-off between the number of individuals and the number of observations 
                  per individual they can sample.",
  "exercise"   = "<b>Exercise:</b> We will perform a set of simulations that will address 
                  what is the sampling design, in terms of number of individuals and repeats 
                  per individual, that will maximize the precision of parameter estimates. 
                  Let's assume that some researchers want to explore the effect of sample 
                  size in their estimates. They also want to determine the best decision 
                  in terms of allocating effort in sampling more individuals or more repeats 
                  per individual. The use of SQuID helps researchers to determine the best 
                  sampling design. They will use the same equation as we used in the step 2, e.g.,",
  "RCode"      = "# install.packages(&quot;lme4&quot;)<br>
                 LMM <- lme4::lmer(Phenotype ~ 1 + X1 + (X1|Individual), data = sampled_data)",
  "table"      = "The table below summarises the value of each parameter of the model:",
  "para1"      = paste0("For these simulations we are going to use a stochastic environment effect $(",NOT$env,")$. 
                  We will also sample individual trait expressions the same number of times but 
                  at different instances of time among individuals. The among-individual variance 
                  in sampling of timing will be 0."),
  "para2"     = "You should base your decision on the graphic representation of the estimates. 
                 The figure below is a summary of parameter estimates of 100 models performed 
                 from the 100 simulated datasets.",
  "para3"     = "For each sample size there will be three combinations: one with more individuals than repeats, 
                one with equal number of repeats and observations, and one with more repeats than individuals.",
  "para4"     = "Each histogram shows the frequency distribution of each parameter based on the 100 simulations 
                that you ran for each of the three study designs. &ldquo;NI&rdquo; is the number of individuals and 
                &ldquo;NR&rdquo; is the number of repeats per individuals. The red line represents the &ldquo;true&rdquo; 
                value that you set for this parameter above. The histograms provide information 
                on the expected bias (inaccuracy) and imprecision that comes with each chosen study design. 
                If the chosen study design would be perfect (i.e., resulting in highly precise and accurate estimates) 
                your parameter estimates should be narrowly distributed around the true value. 
                If your estimates are precise but inaccurate, the distribution should be narrow 
                but peaking away from the true value. If your estimates are accurate but imprecise 
                the distribution should be peaking at the true value but simultaneously very broad. 
                Finally, if your estimates are imprecise and inaccurate the distribution would both 
                wide and peaking away from the true value."
)
portal_txt <- list(
      "parag0_title"         = "SQuID goal",
      "parag0_contents_1"    = "<b>SQuID</b> stands for <b>S</b>tatistical <b>Qu</b>antification of <b>I</b>ndividual <b>D</b>ifferences and is the 
                                product of the SQuID working group. The package aims to help scholars who, 
                                like us, are interested in understanding patterns of phenotypic variance. 
                                Individual differences are the raw material for natural selection to act 
                                on and hence the basis of evolutionary adaptation. Understanding the sources 
                                of phenotypic variance is thus a most essential feature of biological investigation 
                                and mixed effects models offer a great, albeit challenging tool. 
                                Disseminating the properties, potentials and interpretational challenges 
                                in the research community is thus a foremost goal of SQuID.",
      "parag0_contents_2"    = "The squid package has two main objectives: First, it provides an educational 
                                tool useful for students, teachers and researchers who want to learn to use 
                                mixed-effects models. Users can experience how the mixed-effects model framework 
                                can be used to understand distinct biological phenomena by interactively 
                                exploring simulated multilevel data. Second, squid offers research opportunities 
                                to those who are already familiar with mixed-effects models, as squid enables 
                                the generation of datasets that users may download and use for a range of simulation-based 
                                statistical analyses such as power and sensitivity analysis of multilevel and multivariate data.",
      "parag1_title"         = "SQuID biological goals",
      "patag1_image"         = '<img id="logo" src="pictures/squid_logo.png" align="left" alt="SQuID" width=120px heigth=120px>',
      "parag1_contents"      = 'SQuID seeks to understand patterns of phenotypic variance, which is the material 
                                on which natural selection is acting, and thus is a most essential feature of 
                                biological investigation. Different sources of variations are at the origin of 
                                the phenotype of an individual. Individuals differ in their phenotypes because 
                                they have different genes. They also experience different types of environmental 
                                effects during their lifetime. Some are imposing a very permanent mark on the 
                                phenotype over the whole lifetime. For example, by their parental behaviour 
                                individuals can affect their offspring phenotypes permanently, causing among-individual 
                                variation. Other environmental sources play more short-term effects on the phenotype, 
                                as individuals react in the plastic way to these sources, causing within-individual variation. 
                                The patterns of variation can be very complex. For instance individuals differ not only 
                                in their average phenotypes but also in how they can change their phenotype according to 
                                changes in the environment, which represents an interaction between the among- and the 
                                within-individual levels. Selection can act differently on these different components of 
                                variance in the phenotypes of a trait, and this is why it is important to estimate them. 
                                Mixed models are very flexible statistical tools that provide a way to estimate the 
                                variation at these different levels, and represent the general statistical framework 
                                for evolutionary biology. Because of the progress in computational capacities mixed 
                                models have become increasingly popular among ecologists and evolutionary biologists 
                                over the last decade. However, running mixed model is not a straightforward exercise, 
                                and the way data are sampled among and within individuals can have strong implications 
                                on the outcome of the model. This is why we considered it was necessary to produce a 
                                simulation tool that could help new users interested in decomposing phenotypic variance 
                                to get more familiar with the concept of hierarchical organization of traits, with mixed 
                                models and to avoid pitfalls caused by inappropriate sampling.',
      
      "background_title"     = "Background",
      "background_content_1" = "The phenotype of a trait in an individual results from a sum of genetic and environmental 
                                influences. Phenotypic variation is structured in a hierarchical way and the hierarchical 
                                modeling in mixed effect models is great tool to analyze and decompose such variation. 
                                Phenotypes vary across species, across populations of the same species, across individuals 
                                of the same population, and across repeated observations of the same individual. 
                                We focused on the individual level because it represents one of the most important 
                                biological levels to both ecological and evolutionary processes. Different sources 
                                of variation are at the origin of the phenotype of an individual. Individuals may 
                                differ in their phenotypes because they carry different gene variants (i.e. alleles). 
                                But individuals also experience different environments during their lifetime. 
                                Some environmental influences impose a lasting mark on the phenotype, while others are more ephemerous. 
                                The former tend to produce long-lasting, among-individual variation, while the latter 
                                causes within-individual variation. However, this depends on the time scale at 
                                which the measurements of the phenotypes are done relative that of the environmental 
                                influences. Furthermore, individuals differ not only in their average phenotypes 
                                but also in how they respond to changes in their environment 
                                (i.e. differences in individual phenotypic plasticity). 
                                This represents an interaction between the among- and the within-individual levels of variation. 
                                The patterns of variation can, thus, be very complex. Selection can act differently on these different 
                                components of variance in the phenotypes of a trait, and this is why it is important to quantify their magnitude.",
      "background_content_2" = "Mixed models are very flexible statistical tools that provide a way to estimate the 
                                variation at these different levels, and represent the general statistical framework for evolutionary biology.
                                Because of the progress in computational capacities mixed models have become increasingly 
                                popular among ecologists and evolutionary biologists over the last decade. However, 
                                fitting mixed model is not a straightforward exercise, and the way data are sampled among 
                                and within individuals can have strong implications on the outcome of the model. 
                                This is why we created the squid simulation tool that could help new users interested 
                                in decomposing phenotypic variance to get more familiar with the concept of hierarchical 
                                organization of traits, with mixed models and to avoid pitfalls caused by inappropriate sampling.",
      "parag2_title"         = "History of the project",
      "parag2_contents"      =  "It all started in Hannover in November 2013 at the occasion of a workshop on 
                                personality organised by Susanne Foitzik, Franjo Weissing, and Niels Dingemanse and funded 
                                by the Volkswagen Foundation. During this workshop, a group of researchers discussed the 
                                potential issues related to sampling designs on the estimation of components of the phenotypic 
                                variance and covariance. It became obvious that there was an urgent need to develop a 
                                simulation package to help anyone interested in using a mixed model approach at getting 
                                familiar with this methods and avoiding the pitfalls related to the interpretation of the results. 
                                A first model and a working version of the package were created in January 2014, 
                                during a meeting at Universit&eacute; du Qu&eacute;bec &agrave; Montr&eacute;al. The current version was produced during a workshop 
                                in November 2014, at the Max Plank Institute for Ornithology in Seewiesen.",
      "parag3_title"         = "Brief description of modules",
      "parag3_contents1"     = "<b>SQuID</b> is made to help researchers to become familiar with multilevel variation, and to 
                                build up sampling designs for their study. SQuID is built up as a series of modules that guide 
                                the user into situations of increasing complexity to explore the dynamics between the way 
                                records are collected and estimates of parameters of specific interest; The last module 
                                is the <b><i>full model simulation package</i></b> that allows the user to generate data sets that can then be 
                                used to run analyses in the statistical package of their choice for specific research questions.",
      "parag3_contents2"     = paste0("<b>SQuID</b> is based on a mathematical model that creates a group of individuals (i.e. study population) 
                                repeatedly expressing phenotypes, for one or different traits, in uniform time. Phenotypic 
                                values of traits are generated following the general principle of the phenotypic equation 
                                (<a href='http://onlinelibrary.wiley.com/doi/10.1111/1365-2656.12013/abstract' target='_blank'>Dingemanse & Dochtermann 2013, Journal of Animal Ecology</a>): 
                                phenotypic variance ($V_",NOT$total,"$) is assumed to be the sum of a series of components (see the full model). 
                                The user has thus the flexibility to add different variance components that will form the phenotype 
                                of the individual at each time step, and to set up the relative importance of each component. 
                                SQuiD then allows the user to collect a subsample of phenotypes for each simulated individual 
                                (i.e. operational data set), according to a specific sampling design. For most of the modules, the 
                                operational data set generated is automatically fed into a statistical model in R and the main results 
                                of the analysis shown in an output. For the full model the user has the opportunity to download 
                                the operational data set for further analyses."),
      "parag4_title"         = "SQuID team",
      "parag4_contents"      = "Hassen Allegue (Universit&eacute; du Qu&eacute;bec &Agrave; Montr&eacute;al, Montreal, Canada)<br>
                                Yimen G. Araya-Ajoy (Norwegian University of Science and Technology, Trondheim, Norway)<br>
                                Niels J. Dingemanse (Max Planck Institute for Ornithology, Seewiesen & University of Munich, Germany)<br>
                                Ned A. Dochtermann (North Dakota State University, Fargo, USA)<br>
                                Laszlo Z. Garamszegi (Estaci&oacute;n Biol&oacute;gica de Do&ntilde;ana-CSIC, Seville, Spain)<br>
                                Shinichi Nakagawa (University of New South Wales, Sydney, Australia)<br>
                                Denis R&eacute;ale (Universit&eacute; du Qu&eacute;bec &Agrave; Montr&eacute;al, Montreal, Canada)<br>
                                Holger Schielzeth (University of Bielefeld, Bielefeld, Germany)<br>
                                David F. Westneat (University of Kentucky, Lexington, USA)<br>",
      "beginners"            = paste0("The SQuID modules are designed for users who have some but not a 
                                lot of statistical background, particularly with linear mixed models. 
                                We strongly recommend that if you are in this category, you begin with 
                                the module 	&ldquo;Basic Lessons&rdquo;. That should be followed by the module 
                                &ldquo;Non-stochastic environments&rdquo;. You will need to be very comfortable with 
                                the ideas here before moving on. Which module you choose next depends 
                                on your interests but Step 1 in module &ldquo;Multidimensional Plasticity&rdquo; 
                                introduces multiple regression. The module &ldquo;",Module_titles$mod6,"&rdquo; 
                                may also be good to do after module &ldquo;Non-stochastic environments&rdquo;."),
      "teachers"             = "The SQuID modules can be very useful for teaching statistical concepts, 
                                especially ones related to linear mixed models. Which module to use 
                                depends on your students and what you want them to learn. 
                                Brief descriptors of each module are available on this page 
                                (instructions to see them). We also recommend that you skim some of 
                                the modules or visit the full equation step-by-step page to better 
                                understand how SQuID works.",
      "experts"              = "SQuID was designed to provide a user-friendly and web-based program 
                                to simulate data for testing a variety of ideas about sampling and 
                                bias in hierarchical mixed modeling. For those very familiar with 
                                these approaches and curious about SQuID, we recommend initially 
                                using the module &ldquo;Full model&rdquo; and the option &ldquo;Step-by-step&rdquo;. 
                                Once you understand how SQuID works, the &ldquo;Express model&rdquo; version 
                                will work best. Finally, we have SQuID available as an R function 
                                &ldquo;squidR()&rdquo; for those interested in doing efficient simulations.",
      "references_title"    = "References",
      "references_content"  = "Allegue, H., Araya-Ajoy, Y.G., Dingemanse, N.J., Dochtermann N.A., Garamszegi, 
                              L.Z., Nakagawa, S., R&eacute;ale, D., Schielzeth, H. and Westneat, D.F. (2016). 
                              SQuID - Statistical Quantification of Individual Differences: an educational 
                              and statistical tool for understanding multi-level phenotypic data 
                              in the mixed modelling framework. Methods in Ecology and Evolution, 
                              8:257-267.<br><br>
                              Dingemanse, N.J. and Dochtermann N.A. (2013). Quantifying individual variation in behaviour: 
                              mixed-effect modelling approaches. Journal of Animal Ecology, 82:39-54."
      

)
